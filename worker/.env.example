# ===========================================
# TEE VERIFIABLE RANDOMNESS SERVICE
# ===========================================
# v0.1.0-BETA
# https://vrf.mysterygift.fun
# ===========================================

# ===========================================
# SERVER CONFIGURATION
# ===========================================
# Server port
PORT=3000

# Environment (production, development, staging)
NODE_ENV=production
APP_ENVIRONMENT=production
APP_VERSION=0.1.0-BETA

# ===========================================
# RPC ENDPOINTS (Required for Human UI)
# ===========================================
# IMPORTANT: Hybrid Architecture
# --------------------------------
# This service uses a hybrid payment system:
#
# | Component          | Purpose                    | RPC Used        |
# |--------------------|----------------------------|-----------------|
# | Payment Verification | Verify user paid (x402)  | NONE (facilitator) |
# | Transaction Building | Build unsigned tx       | Helius (Solana), Alchemy (Base) |
# | Result Delivery    | Return randomness + proof | NONE            |
#
# Why RPC is needed: The frontend needs to build transactions
# (get nonce, blockhash, gas estimate) before the user signs.
# Payment VERIFICATION is handled by PayAI facilitator (no RPC from our side).

# --- SOLANA RPC (Helius) ---
# Required for building Solana transactions in the human UI
# Get API key from https://helius.io
HELIUS_RPC_URL=https://mainnet.helius-rpc.com/?api-key=YOUR_HELIUS_KEY

# --- BASE RPC (Alchemy) ---
# Required for building Base/EVM transactions in the human UI
# Helius doesn't support Base, so we use Alchemy
# Get API key from https://alchemy.com
BASE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# ===========================================
# PAYMENT CONFIGURATION (x402)
# ===========================================
# Payment wallet (receives USDC payments)
# Solana wallet address
PAYMENT_WALLET=YOUR_SOLANA_WALLET_ADDRESS

# Base wallet address (if supporting Base)
PAYMENT_WALLET_BASE=YOUR_BASE_WALLET_ADDRESS

# PayAI facilitator URL (handles payment verification)
X402_FACILITATOR_URL=https://facilitator.payai.network

# API key for facilitator (optional)
X402_API_KEY=

# Supported payment networks (comma-separated)
# Options: solana, base
SUPPORTED_NETWORKS=solana,base

# ===========================================
# ACCESS CONTROL
# ===========================================
# Whitelisted origins (comma-separated, FREE access)
# Requests from these origins bypass payment
WHITELIST=localhost,yourdomain.com

# API keys for authorized partners (comma-separated, FREE access)
# Use X-API-Key header for requests
API_KEYS=your-secret-api-key

# ===========================================
# ARWEAVE IMMUTABLE PROOF
# ===========================================
# Upload commitment proofs to Arweave via Turbo SDK
# Cost: ~$0.001 per proof (permanent, decentralized storage)
ARWEAVE_ENABLED=true

# ===========================================
# CUSTOM DOMAIN / SSL (dstack-ingress)
# ===========================================
# Only needed if using custom domain with SSL
# Create token at https://dash.cloudflare.com/profile/api-tokens
# Template: "Edit zone DNS"
# Permissions: Zone - DNS - Edit
CLOUDFLARE_API_TOKEN=

# Email for Let's Encrypt notifications
CERTBOT_EMAIL=hello@yourdomain.com

# Gateway domain (provided by Phala)
# e.g., dstack-pha-prod5.phala.network
DSTACK_GATEWAY_DOMAIN=

# ============================================
# DEVELOPMENT SETTINGS
# ============================================
# Use these for devnet/testing
# HELIUS_RPC_URL_DEV=https://devnet.helius-rpc.com/?api-key=YOUR_KEY
# BASE_RPC_URL_DEV=https://base-sepolia.g.alchemy.com/v2/YOUR_KEY
# PAYMENT_WALLET_DEV=YOUR_DEV_WALLET
# PAYMENT_WALLET_BASE_DEV=YOUR_DEV_BASE_WALLET
# WHITELIST_DEV=localhost,your-dev-domain.com

# ============================================
# MONITORING (Optional)
# ============================================
# GlitchTip Error Monitoring
# Get DSN from https://glitchtip.com
GLITCHTIP_DSN=